---
icon: wordpress
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# CVE-2024-10924 (Bypass-MFA-Wordpress)

Lo que primero tendremos que hacer es instalar en nuestro `hipervisor` un `ubuntu-server`, una vez estando dentro de la maquina tendremos que ejecutar los siguiente comandos.

## <mark style="color:purple;">Instalación laboratorio</mark>

Primero tendremos que instalar todo lo necesario:

> Instalar Apache, MySQL y PHP

```shell
sudo apt update
sudo apt install apache2 mysql-server php php-mysql libapache2-mod-php unzip wget -y
```

```shell
systemctl start apache2
systemctl start mysql
```

> Configurar MySQL

```shell
sudo mysql
CREATE DATABASE wordpress_db;
CREATE USER 'wp_user'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON wordpress_db.* TO 'wp_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

> Descargar WordPress

```shell
cd /var/www/html 
sudo wget https://wordpress.org/latest.zip 
sudo unzip latest.zip 
sudo mv wordpress/* . 
sudo rm -rf wordpress latest.zip 
sudo chown -R www-data:www-data /var/www/html 
sudo chmod -R 755 /var/www/html
```

> Configurar WordPress

Renombra el archivo `wp-config-sample.php` a `wp-config.php`:

```shell
sudo mv wp-config-sample.php wp-config.php
```

Edita el archivo:

```shell
sudo nano wp-config.php

#Dentro del nano
define('DB_NAME', 'wordpress_db');
define('DB_USER', 'wp_user');
define('DB_PASSWORD', 'password');
define('DB_HOST', 'localhost');
```

Guarda y cierra el archivo.

> Reiniciar apache2

```shell
sudo systemctl restart apache2
```

Accede a `http://<IP>` en tu navegador y sigue el asistente de instalación de WordPress.

## <mark style="color:purple;">Instalación de plugin vulnerable para Wordpress</mark>

Una vez que ya se haya configurado el `wordpress` y estemos dentro de la seccion de `plugins` tendremos que darle a `Add plugins` -> `Upload plugin`, seleccionaremos el `plugin` que esta comprimido en `ZIP` y esto se montara automaticamente.

URL = [Download Plugin really-simple-ssl](https://github.com/D1se0/CVE-2024-10924-Bypass-MFA-Wordpress-LAB/tree/main/plugin_vuln)

Dentro del `plugin` lo activaremos y nos iremos a la seccion de `Settings` -> `Login Protection`.

Despues tendremos que activar la casilla llamada `Enable Two-Factor Authentication` y que poner el usuario `Administrador` en la seccion llamada `Enforce for:`

En `Email Verification` -> `Enable for:` pone al `Administrador` y `Author`.

Para guardar todo le daremos a `Save and continue` y ya estaria todo listo para poder probar la tecnica del `Bypass MFA de Wordpress`.

## <mark style="color:purple;">Repositorio Bypass-MFA-Wordpress</mark>

Para saber mas informacion de como explotar esta vulnerabilidad visita el siguiente repositorio:

URL = [GitHub Bypass-MFA-Wordpress](https://github.com/D1se0/CVE-2024-10924-Bypass-MFA-Wordpress-LAB/tree/main)
